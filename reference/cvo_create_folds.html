<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a cvo (cross-valitation object) — cvo_create_folds • manyROC</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a cvo (cross-valitation object) — cvo_create_folds" />
<meta property="og:description" content="Create indices of folds with blocking and stratification (cvo object)
Create a cross-validation object (cvo), which contain a list of indices
for each fold of (repeated) k-fold cross-validation.
Options of blocking and stratification are available. See more in &quot;Details&quot;." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">manyROC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/manyROC.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/manyROC_3_cvo.html">Cross-validation object (cvo)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/gegznav/manyROC/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a cvo (cross-valitation object)</h1>
    <small class="dont-index">Source: <a href='https://github.com/gegznav/manyROC/blob/master/R/cvo_create_folds.R'><code>R/cvo_create_folds.R</code></a></small>
    <div class="hidden name"><code>cvo_create_folds.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create indices of folds with blocking and stratification (cvo object)
Create a cross-validation object (cvo), which contain a list of indices
for each fold of (repeated) k-fold cross-validation.
Options of blocking and stratification are available. See more in "Details".</p>
    </div>

    <pre class="usage"><span class='fu'>cvo_create_folds</span>(
  data = <span class='kw'>NULL</span>,
  stratify_by = <span class='kw'>NULL</span>,
  block_by = <span class='kw'>NULL</span>,
  folds = <span class='fl'>5</span>,
  times = <span class='fl'>1</span>,
  seeds = <span class='fl'>NA_real_</span>,
  kind = <span class='kw'>NULL</span>,
  mode = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"caret"</span>, <span class='st'>"mlr"</span>)[<span class='fl'>1</span>],
  returnTrain = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>, <span class='st'>"both"</span>)[<span class='fl'>1</span>],
  predict = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"test"</span>, <span class='st'>"train"</span>, <span class='st'>"both"</span>)[<span class='fl'>1</span>],
  k = <span class='kw'>folds</span>
)

<span class='co'># S3 method for cvo</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='kw'>x</span>, <span class='kw'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame, that contains variables which names are denoted
by arguments <code>block_by</code> and by <code>stratify_by</code>.</p></td>
    </tr>
    <tr>
      <th>stratify_by</th>
      <td><p>A vector or a name of factor variable in <code>data</code>,
which levels will be used for <em>stratification</em>. E.g.,
a vector with medical groups.</p></td>
    </tr>
    <tr>
      <th>block_by</th>
      <td><p>A vector or a name of variable in <code>data</code>, that
contains identification codes/numbers (ID). These codes
will be used for blocking.</p></td>
    </tr>
    <tr>
      <th>folds, k</th>
      <td><p>(<code>integer</code>)<br /> A number of folds, default <code>folds = 5</code>.</p></td>
    </tr>
    <tr>
      <th>times</th>
      <td><p>(<code>integer</code>)<br />
A number of repetitions for repeated cross-validation.</p></td>
    </tr>
    <tr>
      <th>seeds</th>
      <td><p>(<code>NA_real_</code> | <code>NULL</code> | vector of integers)<br />
             Seeds for random number generator for each repetition.</p><ul>
<li><p>If <code>seeds = NA_real_</code> (default), no seeds are set,
             parameter <code>kind</code> is also ignored.</p></li>
<li><p>If <code>seeds = NULL</code> random seeds are generated
            automatically and registered in attribute <code>"seeds"</code>.</p></li>
<li><p>If numeric vector, then these seeds will be used for each
            repetition of cross-validation.
            If the number of repetitions is greater than the number of
            provided seeds, additional seeds are generated and added to
            the vector. The first seed will be used to ensure
            reproducibility of the randomly generated seeds.</p></li>
</ul>

<p>For more information about random number generation see
             <code><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></code>.</p></td>
    </tr>
    <tr>
      <th>kind</th>
      <td><p>(<code>NULL</code> | <code>character</code>)<br />
            The kind of (pseudo)random number generator. Default is
            <code>NULL</code>, which selects the currently-used generator
            (including that used in the previous session if the
            workspace has been restored): if no generator has been
            used it selects <code>"default"</code>.<br /></p>
<p>Generator <code>"L'Ecuyer-CMRG"</code> is recommended if package
            <span class="pkg">parallel</span> is used for for parallel computing.
            In this case each seed should have 6 elements neither the first
            three nor the last three should be all zero.
            More information at <code><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></code>.</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>(<code>character</code>)<br /> Either <span class="pkg">caret</span>-like or <span class="pkg">mlr</span>-like
cvo object. <b>This option is not implemented yet!</b></p></td>
    </tr>
    <tr>
      <th>returnTrain</th>
      <td><p>(<code>logical</code> | <code>character</code>) <br />
If <code>TRUE</code>, returns indices of variables in
a training set (<span class="pkg">caret</span> style).
If <code>FALSE</code>, returns indices of variables in
a test set (<span class="pkg">caret</span> style).
If <code>"both"</code>, returns indices of variables
in both training and test sets (<span class="pkg">mlr</span> style).</p></td>
    </tr>
    <tr>
      <th>predict</th>
      <td><p>(<code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code>)<br />
What to predict during resampling: &#8220;train&#8221;, &#8220;test&#8221; or &#8220;both&#8221; sets.
Default is &#8220;test&#8221;.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>A <code>cvo</code> object.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>(any)<br />
Further parameters for strategies.<br /></p><dl>
<dt>iters (<code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code>)</dt><dd><p>Number of iterations, for &#8220;CV&#8221;, &#8220;Subsample&#8221;
and &#8220;Bootstrap&#8221;.</p></dd>
<dt>split (<code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code>)</dt><dd><p>Proportion of training cases for &#8220;Holdout&#8221; and
&#8220;Subsample&#8221; between 0 and 1. Default is 2 / 3.</p></dd>
<dt>reps (<code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code>)</dt><dd><p>Repeats for &#8220;RepCV&#8221;. Here <code>iters = folds * reps</code>.
Default is 10.</p></dd>
<dt>folds (<code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code>)</dt><dd><p>Folds in the repeated CV for <code>RepCV</code>.
Here <code>iters = folds * reps</code>. Default is 10.</p></dd>
<dt>horizon (<code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code>)</dt><dd><p>Number of observations in the forecast test set for &#8220;GrowingWindowCV&#8221;
and &#8220;FixedWindowCV&#8221;. When <code>horizon &gt; 1</code> this will be treated as the number of
observations to forecast, else it will be a fraction of the initial window. IE,
for 100 observations, initial window of .5, and horizon of .2, the test set will have
10 observations. Default is 1.</p></dd>
<dt>initial.window (<code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code>)</dt><dd><p>Fraction of observations to start with
in the training set for &#8220;GrowingWindowCV&#8221; and &#8220;FixedWindowCV&#8221;.
When <code>initial.window &gt; 1</code> this will be treated as the number of
observations in the initial window, else it will be treated as the fraction
of observations to have in the initial window. Default is 0.5.</p></dd>
<dt>skip (<code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code>)</dt><dd><p>How many resamples to skip to thin the total amount
for &#8220;GrowingWindowCV&#8221; and &#8220;FixedWindowCV&#8221;. This is passed through as the &#8220;by&#8221; argument
in <code><a href='https://rdrr.io/r/base/seq.html'>seq()</a></code>. When <code>skip &gt; 1</code> this will be treated as the increment of the sequence of resampling indices,
else it will be a fraction of the total training indices. IE for 100 training sets and a value of .2, the increment
of the resampling indices will be 20. Default is &#8220;horizon&#8221; which gives mutually exclusive chunks
of test indices.</p></dd>

</dl></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>(<code>list</code>) A list of folds. In each fold there are indices
        observations. The structure of outputs is the similar to one
        created with either function <code><a href='https://rdrr.io/pkg/caret/man/createDataPartition.html'>createFolds</a></code>
        from <span class="pkg">caret</span> or function
        <code><a href='https://mlr.mlr-org.com/reference/makeResampleInstance.html'>makeResampleInstance</a></code> in <span class="pkg">mlr</span>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Function <code>cvo_create_folds</code> randomly divides observations into
folds that are used for (repeated) k-fold cross-validation. In these
folds observations are:</p><ol>
<li><p><b>blocked</b> by values in variable <code>block_by</code>
     (i.e. observations with the same "ID" or other kind of blocking factor
     are treated as one unit (a block) and are always in the same fold);</p></li>
<li><p><b>stratified</b> by levels of factor variable <code>stratify_by</code>
      (the proportions of these grouped units of observations per each
      group (level) are kept approximately constant throughout all folds).</p></li>
</ol>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>If <code>folds</code> is too big and cases of at least one group (i.e.,
      level in <code>stratify_by</code>) are not included in at least one fold,
      an error is returned. In that case smaller value of <code>folds</code> is
      recommended.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Function <code><a href='https://rdrr.io/pkg/caret/man/createDataPartition.html'>createFolds</a></code> from package
         <span class="pkg">caret</span>. <br />
         Function <code><a href='https://mlr.mlr-org.com/reference/makeResampleInstance.html'>makeResampleInstance</a></code> from package
         <span class="pkg">mlr</span>. <br />
Test if folds are blocked and stratified <code><a href='cvo_test_bs.html'>cvo_test_bs</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Vilmantas Gegzna</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='kw'><a href='https://gegznav.github.io/manyROC'>manyROC</a></span>)
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>123456</span>)

<span class='co'># Data</span>
<span class='kw'>DataSet1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(ID = <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fl'>1</span><span class='op'>:</span><span class='fl'>20</span>, each = <span class='fl'>2</span>),
  gr = <span class='fu'><a href='https://rdrr.io/r/base/gl.html'>gl</a></span>(<span class='fl'>4</span>, <span class='fl'>10</span>, labels = <span class='kw'>LETTERS</span>[<span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span>]),
  .row = <span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span>)

<span class='co'># Explore data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='kw'>DataSet1</span>)
</div><div class='output co'>#&gt; 'data.frame':	40 obs. of  3 variables:
#&gt;  $ ID  : int  1 1 2 2 3 3 4 4 5 5 ...
#&gt;  $ gr  : Factor w/ 4 levels "A","B","C","D": 1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ .row: int  1 2 3 4 5 6 7 8 9 10 ...</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='kw'>DataSet1</span>[, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"gr"</span>, <span class='st'>"ID"</span>)])
</div><div class='output co'>#&gt;    ID
#&gt; gr  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
#&gt;   A 2 2 2 2 2 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
#&gt;   B 0 0 0 0 0 2 2 2 2  2  0  0  0  0  0  0  0  0  0  0
#&gt;   C 0 0 0 0 0 0 0 0 0  0  2  2  2  2  2  0  0  0  0  0
#&gt;   D 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  2  2  2  2  2</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='kw'>DataSet1</span>)
</div><div class='output co'>#&gt;        ID        gr          .row      
#&gt;  Min.   : 1.00   A:10   Min.   : 1.00  
#&gt;  1st Qu.: 5.75   B:10   1st Qu.:10.75  
#&gt;  Median :10.50   C:10   Median :20.50  
#&gt;  Mean   :10.50   D:10   Mean   :20.50  
#&gt;  3rd Qu.:15.25          3rd Qu.:30.25  
#&gt;  Max.   :20.00          Max.   :40.00  </div><div class='input'>

<span class='co'># Explore functions</span>
<span class='kw'>nFolds</span> <span class='op'>&lt;-</span> <span class='fl'>5</span>

<span class='co'># If variables of data frame are provided:</span>
<span class='kw'>Folds1_a</span> <span class='op'>&lt;-</span> <span class='fu'>cvo_create_folds</span>(data = <span class='kw'>DataSet1</span>,
  stratify_by = <span class='st'>"gr"</span>, block_by = <span class='st'>"ID"</span>,
  k = <span class='kw'>nFolds</span>, returnTrain = <span class='fl'>FALSE</span>)
<span class='kw'>Folds1_a</span>
</div><div class='output co'>#&gt; --- A cvo object: ----------------------------------------------------
#&gt;  indices stratified blocked cv_type k repetitions sample_size
#&gt;     Test       TRUE    TRUE  k-fold 5           1          40
#&gt; ----------------------------------------------------------------------</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='kw'>Folds1_a</span>)
</div><div class='output co'>#&gt; List of 5
#&gt;  $ Rep1_Fold1: int [1:8] 7 8 19 20 25 26 39 40
#&gt;  $ Rep1_Fold2: int [1:8] 3 4 13 14 27 28 35 36
#&gt;  $ Rep1_Fold3: int [1:8] 9 10 17 18 21 22 31 32
#&gt;  $ Rep1_Fold4: int [1:8] 1 2 15 16 23 24 37 38
#&gt;  $ Rep1_Fold5: int [1:8] 5 6 11 12 29 30 33 34
#&gt;  - attr(*, "class")= chr [1:2] "cvo_caret" "cvo"
#&gt;  - attr(*, "info")='data.frame':	1 obs. of  7 variables:
#&gt;   ..$ indices    : chr "Test"
#&gt;   ..$ stratified : logi TRUE
#&gt;   ..$ blocked    : logi TRUE
#&gt;   ..$ cv_type    : chr "k-fold"
#&gt;   ..$ k          : num 5
#&gt;   ..$ repetitions: num 1
#&gt;   ..$ sample_size: int 40
#&gt;  - attr(*, "seeds")=List of 2
#&gt;   ..$ generator: NULL
#&gt;   ..$ seeds    : NULL</div><div class='input'>
<span class='fu'><a href='cvo_test_bs.html'>cvo_test_bs</a></span>(<span class='kw'>Folds1_a</span>, <span class='st'>"gr"</span>, <span class='st'>"ID"</span>, <span class='kw'>DataSet1</span>)
</div><div class='output co'>#&gt; ************************************************************\n____________________________________________________________\n                Test for STRATIFICATION 
#&gt; 
#&gt;            A B C D      &lt;&lt;&lt;     &gt;&gt;&gt;              A    B    C    D
#&gt; Rep1_Fold1 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold2 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold3 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold4 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold5 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; 
#&gt; If stratified, the proportions of each group in each fold
#&gt; (row) should be (approximately) equal and with no zero values.
#&gt; Test is not valid if data is blocked and number of cases in 
#&gt; each block differs significantly.
#&gt; ____________________________________________________________\n                Test for BLOCKING: BLOCKED
#&gt; 
#&gt;       ID
#&gt;            1 2 3 4 5 6 7 8 9 10 ..
#&gt; Rep1_Fold1 0 0 0 2 0 0 0 0 0  2 ..
#&gt; Rep1_Fold2 0 2 0 0 0 0 2 0 0  0 ..
#&gt; Rep1_Fold3 0 0 0 0 2 0 0 0 2  0 ..
#&gt; Rep1_Fold4 2 0 0 0 0 0 0 2 0  0 ..
#&gt; Rep1_Fold5 0 0 2 0 0 2 0 0 0  0 ..
#&gt; 
#&gt; Table shows number of observations in each fold.
#&gt; If blocked, the same ID appears just in one fold.
#&gt; 10 (of 20) first columns are displayed.
#&gt; ************************************************************\n</div><div class='input'>
<span class='co'># If "free" variables are provided:</span>
<span class='kw'>Folds1_b</span> <span class='op'>&lt;-</span> <span class='fu'>cvo_create_folds</span>(stratify_by = <span class='kw'>DataSet1</span><span class='op'>$</span><span class='kw'>gr</span>,
  block_by = <span class='kw'>DataSet1</span><span class='op'>$</span><span class='kw'>ID</span>,
  k = <span class='kw'>nFolds</span>,
  returnTrain = <span class='fl'>FALSE</span>)
<span class='co'># str(Folds1_b)</span>
<span class='fu'><a href='cvo_test_bs.html'>cvo_test_bs</a></span>(<span class='kw'>Folds1_b</span>, <span class='st'>"gr"</span>, <span class='st'>"ID"</span>, <span class='kw'>DataSet1</span>)
</div><div class='output co'>#&gt; ************************************************************\n____________________________________________________________\n                Test for STRATIFICATION 
#&gt; 
#&gt;            A B C D      &lt;&lt;&lt;     &gt;&gt;&gt;              A    B    C    D
#&gt; Rep1_Fold1 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold2 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold3 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold4 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold5 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; 
#&gt; If stratified, the proportions of each group in each fold
#&gt; (row) should be (approximately) equal and with no zero values.
#&gt; Test is not valid if data is blocked and number of cases in 
#&gt; each block differs significantly.
#&gt; ____________________________________________________________\n                Test for BLOCKING: BLOCKED
#&gt; 
#&gt;       ID
#&gt;            1 2 3 4 5 6 7 8 9 10 ..
#&gt; Rep1_Fold1 0 2 0 0 0 0 0 0 2  0 ..
#&gt; Rep1_Fold2 0 0 0 2 0 0 0 2 0  0 ..
#&gt; Rep1_Fold3 0 0 2 0 0 0 2 0 0  0 ..
#&gt; Rep1_Fold4 0 0 0 0 2 0 0 0 0  2 ..
#&gt; Rep1_Fold5 2 0 0 0 0 2 0 0 0  0 ..
#&gt; 
#&gt; Table shows number of observations in each fold.
#&gt; If blocked, the same ID appears just in one fold.
#&gt; 10 (of 20) first columns are displayed.
#&gt; ************************************************************\n</div><div class='input'>
<span class='co'># Not blocked but stratified</span>
<span class='kw'>Folds1_c</span> <span class='op'>&lt;-</span> <span class='fu'>cvo_create_folds</span>(stratify_by = <span class='kw'>DataSet1</span><span class='op'>$</span><span class='kw'>gr</span>,
  k = <span class='kw'>nFolds</span>,
  returnTrain = <span class='fl'>FALSE</span>)
<span class='co'># str(Folds1_c)</span>
<span class='fu'><a href='cvo_test_bs.html'>cvo_test_bs</a></span>(<span class='kw'>Folds1_c</span>, <span class='st'>"gr"</span>, <span class='st'>"ID"</span>, <span class='kw'>DataSet1</span>)
</div><div class='output co'>#&gt; ************************************************************\n____________________________________________________________\n                Test for STRATIFICATION 
#&gt; 
#&gt;            A B C D      &lt;&lt;&lt;     &gt;&gt;&gt;              A    B    C    D
#&gt; Rep1_Fold1 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold2 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold3 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold4 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold5 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; 
#&gt; If stratified, the proportions of each group in each fold
#&gt; (row) should be (approximately) equal and with no zero values.
#&gt; Test is not valid if data is blocked and number of cases in 
#&gt; each block differs significantly.
#&gt; ____________________________________________________________\n                Test for BLOCKING: NOT BLOCKED
#&gt; 
#&gt;       ID
#&gt;            1 2 3 4 5 6 7 8 9 10 ..
#&gt; Rep1_Fold1 0 2 0 0 0 0 0 1 1  0 ..
#&gt; Rep1_Fold2 1 0 1 0 0 0 1 0 0  1 ..
#&gt; Rep1_Fold3 1 0 0 0 1 1 0 1 0  0 ..
#&gt; Rep1_Fold4 0 0 1 1 0 1 0 0 1  0 ..
#&gt; Rep1_Fold5 0 0 0 1 1 0 1 0 0  1 ..
#&gt; 
#&gt; Table shows number of observations in each fold.
#&gt; If blocked, the same ID appears just in one fold.
#&gt; 10 (of 20) first columns are displayed.
#&gt; ************************************************************\n</div><div class='input'>
<span class='co'># Blocked but not stratified</span>
<span class='kw'>Folds1_d</span> <span class='op'>&lt;-</span> <span class='fu'>cvo_create_folds</span>(block_by = <span class='kw'>DataSet1</span><span class='op'>$</span><span class='kw'>ID</span>,
  k = <span class='kw'>nFolds</span>,
  returnTrain = <span class='fl'>FALSE</span>)
<span class='co'># str(Folds1_d)</span>
<span class='fu'><a href='cvo_test_bs.html'>cvo_test_bs</a></span>(<span class='kw'>Folds1_d</span>, <span class='st'>"gr"</span>, <span class='st'>"ID"</span>, <span class='kw'>DataSet1</span>)
</div><div class='output co'>#&gt; ************************************************************\n____________________________________________________________\n                Test for STRATIFICATION 
#&gt; 
#&gt;            A B C D      &lt;&lt;&lt;     &gt;&gt;&gt;              A    B    C    D
#&gt; Rep1_Fold1 0 2 4 2  &lt;-Counts | Proportions-&gt;  0.00 0.25 0.50 0.25
#&gt; Rep1_Fold2 4 2 2 0  &lt;-Counts | Proportions-&gt;  0.50 0.25 0.25 0.00
#&gt; Rep1_Fold3 2 2 2 2  &lt;-Counts | Proportions-&gt;  0.25 0.25 0.25 0.25
#&gt; Rep1_Fold4 2 0 0 6  &lt;-Counts | Proportions-&gt;  0.25 0.00 0.00 0.75
#&gt; Rep1_Fold5 2 4 2 0  &lt;-Counts | Proportions-&gt;  0.25 0.50 0.25 0.00
#&gt; 
#&gt; If stratified, the proportions of each group in each fold
#&gt; (row) should be (approximately) equal and with no zero values.
#&gt; Test is not valid if data is blocked and number of cases in 
#&gt; each block differs significantly.
#&gt; ____________________________________________________________\n                Test for BLOCKING: BLOCKED
#&gt; 
#&gt;       ID
#&gt;            1 2 3 4 5 6 7 8 9 10 ..
#&gt; Rep1_Fold1 0 0 0 0 0 0 0 0 2  0 ..
#&gt; Rep1_Fold2 0 2 0 0 2 0 0 0 0  2 ..
#&gt; Rep1_Fold3 2 0 0 0 0 0 2 0 0  0 ..
#&gt; Rep1_Fold4 0 0 0 2 0 0 0 0 0  0 ..
#&gt; Rep1_Fold5 0 0 2 0 0 2 0 2 0  0 ..
#&gt; 
#&gt; Table shows number of observations in each fold.
#&gt; If blocked, the same ID appears just in one fold.
#&gt; 10 (of 20) first columns are displayed.
#&gt; ************************************************************\n</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://orcid.org/0000-0002-9500-5167'>Vilmantas Gegzna</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


