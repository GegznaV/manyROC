<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>[!] Carry out the multiROC analysis � print.multiroc_result • multiROC</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  	<link rel="icon" href="../favicon.png" />
</head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">multiROC | R package</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-book fa-lg"></span>
     
    Functions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book fa-lg"></span>
     
    Tutorials and examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/index.html">List of vignettes</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../articles/multiROC_1_Introduction.html">Introduction to `multiROC`</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/GegznaV/multiROC">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>[!] Carry out the multiROC analysis</h1>
    </div>

    
    <p>For spectroscopic data: compare spectra of each pair of indicated groups
at each wavelength.</p>
    

    <pre class="usage"><span class='co'># S3 method for multiroc_result</span>
<span class='fu'>print</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>cutoff_fmt</span> <span class='kw'>=</span> <span class='st'>"%.4g"</span>)

<span class='fu'>roc_multiroc</span>(<span class='no'>x</span>, <span class='kw'>gr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>optimize_by</span> <span class='kw'>=</span> <span class='st'>"bac"</span>, <span class='no'>...</span>)

<span class='co'># S3 method for matrix</span>
<span class='fu'>roc_multiroc</span>(<span class='no'>x</span>, <span class='kw'>gr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>optimize_by</span> <span class='kw'>=</span> <span class='st'>"bac"</span>, <span class='no'>...</span>,
  <span class='kw'>gr_sep</span> <span class='kw'>=</span> <span class='st'>" vs. "</span>)

<span class='co'># S3 method for numeric</span>
<span class='fu'>roc_multiroc</span>(<span class='no'>x</span>, <span class='kw'>gr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>optimize_by</span> <span class='kw'>=</span> <span class='st'>"bac"</span>, <span class='no'>...</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>roc_multiroc</span>(<span class='no'>x</span>, <span class='kw'>gr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>optimize_by</span> <span class='kw'>=</span> <span class='st'>"bac"</span>, <span class='no'>...</span>)

<span class='co'># S3 method for hyperSpec</span>
<span class='fu'>roc_multiroc</span>(<span class='no'>x</span>, <span class='kw'>gr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>optimize_by</span> <span class='kw'>=</span> <span class='st'>"bac"</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A numeric matrix, a data frame, a <code>hyperSpec</code> object or another
type of object, convertible to a numeric matrix.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed for further methods.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>(<code>integer(1)</code>) A number of decimals to display
for <em>performance measures</em>. Default is 2.</p></td>
    </tr>
    <tr>
      <th>cutoff_fmt</th>
      <td><p>(<code>character(1)</code>) A string with a number display
format for <em>cut-off values</em>, <code>mean_neg</code>
 and <code>mean_pos</code>.
Will be passed to <code><a href='http://www.rdocumentation.org/packages/base/topics/sprintf'>sprintf</a></code>. Default is
<code>"%.4g"</code>.</p></td>
    </tr>
    <tr>
      <th>gr</th>
      <td><p>Either a string (scalar, <code>character(1)</code>) or a <code>factor</code>
variable (a vector) which defines groups in <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>optimize_by</th>
      <td><p>(<code>string(1)</code>) A string with the name of
                classification performance measure to use. Currently
                available options:</p><ul>
<li><p><code>"bac"</code> - for balanced accuracy (mean of sensitivity and specificity);</p></li>
<li><p><code>"kappa"</code> - for Cohens kappa;</p></li>
<li><p><code>"youden"</code> - for Youden's index;</p></li>
</ul></td>
    </tr>
    <tr>
      <th>gr_sep</th>
      <td><p>Group separator used to paste the names of groups. Default is
<code>" vs. "</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Object of classes <code>multiroc_result</code> and <code>data.frame</code> with
columns:</p><ul>
<li><p><code>compared_groups</code> Names of compared groups (separated by
                  <code>gr_sep</code> with default value <code>" vs. "</code>);</p></li>
<li><p><code>feature</code> names of numeric features used in analysis;</p></li>
<li><p><code>mean_neg</code> 10% trimmed mean of negatives;</p></li>
<li><p><code>cutoff</code> for optimal threshold/cut-off values and
                  corresponding performance measures;</p></li>
<li><p><code>mean_pos</code> 10% trimmed mean of positives;</p></li>
<li><p><code>TP</code> number of true positives;</p></li>
<li><p><code>FN</code> number of false negatives;</p></li>
<li><p><code>FP</code> number of false positives;</p></li>
<li><p><code>TN</code> number of true negatives;</p></li>
<li><p><code>sens</code> sensitivity (true positive rate, recall);</p></li>
<li><p><code>spec</code> specificity (true negative rate);</p></li>
<li><p><code>PPV</code> positive predictive value (precision);</p></li>
<li><p><code>NPV</code> negative predictive value;</p></li>
<li><p><code>BAC</code> balanced accuracy;</p></li>
<li><p><code>Youden</code> Youden�s J index;</p></li>
<li><p><code>Kappa</code> Cohen's kappa;</p></li>
<li><p><code>AUC</code> area under the ROC curve;</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Consider ordering of factor <code>gr</code> levels before the analysis, as the
first level will always be treated as negative and the last as positive.
<b>E.g.</b>, if we have factor with 3 levels in this particular order
"A", "B", "C",  then "A" will always be negative, "C" always positive and
"B" positive, when compared to "A" and negative, when compared to "C".
The same principle applies if there are more than 3 levels.
This is important determining what specificity and sensitivity, etc., means
in the context of group names: if positive is "A" then <em>sensitivity</em>
will be related to group "A", but if "A" is negative, then <em>specificity</em>
will be related to this group, and sensitivity to the other group.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>library</span>(<span class='no'>multiROC</span>)


<span class='co'># --- For numeric vectors objects ---</span>

<span class='fu'>data</span>(<span class='no'>PlantGrowth</span>)
<span class='fu'>roc_multiroc</span>(<span class='no'>PlantGrowth</span>$<span class='no'>weight</span>, <span class='no'>PlantGrowth</span>$<span class='no'>group</span>)</div><div class='output co'>#&gt;   compared_groups feature mean_neg cutoff mean_pos TP FN FP TN sens spec  PPV
#&gt; 1   ctrl vs. trt1       1    5.005   4.41    4.624  5  5  1  9 0.50 0.90 0.83
#&gt; 2   ctrl vs. trt2       1    5.005   5.26    5.504  8  2  3  7 0.80 0.70 0.73
#&gt; 3   trt1 vs. trt2       1    4.624   4.92    5.504 10  0  2  8 1.00 0.80 0.83
#&gt;    NPV  BAC Youden Kappa  AUC
#&gt; 1 0.64 0.70   0.40  0.40 0.67
#&gt; 2 0.78 0.75   0.50  0.50 0.75
#&gt; 3 1.00 0.90   0.80  0.80 0.84</div><div class='input'>

<span class='co'># --- For dataframes objects ---</span>

<span class='fu'>data</span>(<span class='no'>CO2</span>)
<span class='fu'>roc_multiroc</span>(<span class='no'>CO2</span>[, <span class='fu'>c</span>(<span class='st'>"conc"</span>, <span class='st'>"uptake"</span>)], <span class='no'>CO2</span>$<span class='no'>Type</span>)</div><div class='output co'>#&gt;          compared_groups feature mean_neg cutoff mean_pos TP FN FP TN sens spec
#&gt; 1 Quebec vs. Mississippi    conc    408.5    250    408.5 18 24 18 24 0.43 0.57
#&gt; 2 Quebec vs. Mississippi  uptake    34.71   32.4    20.75 41  1 13 29 0.98 0.69
#&gt;    PPV  NPV  BAC Youden Kappa  AUC
#&gt; 1 0.50 0.50 0.50   0.00  0.00 0.50
#&gt; 2 0.76 0.97 0.83   0.67  0.67 0.84</div><div class='input'>

<span class='co'># --- For hyperSpec objects ---</span>

<span class='fu'>library</span>(<span class='no'>hyperSpec</span>)
<span class='no'>fluorescence</span></div><div class='output co'>#&gt; hyperSpec object
#&gt;    150 spectra
#&gt;    3 data columns
#&gt;    501 data points / spectrum
#&gt; wavelength: lambda/nm [integer] 300 301 ... 800 
#&gt; data:  (150 rows x 3 columns)
#&gt;    1. gr:  [factor] B B ... A 
#&gt;    2. class:  [factor] N l ... S1 
#&gt;    3. spc: I / a.u. [matrix501] 159.8996 139.9296 ... 12.11558 </div><div class='input'>
<span class='fu'>roc_multiroc</span>(<span class='no'>fluorescence</span>[ , , <span class='fl'>500</span>~<span class='fl'>502</span>], <span class='no'>fluorescence</span>$<span class='no'>gr</span>)</div><div class='output co'>#&gt;   compared_groups feature mean_neg cutoff mean_pos TP FN FP TN sens spec  PPV
#&gt; 1         A vs. B     500    339.9  335.6    330.5 35 20 24 28 0.64 0.54 0.59
#&gt; 2         A vs. B     501    337.8  327.8    329.3 29 26 19 33 0.53 0.63 0.60
#&gt; 3         A vs. B     502    336.4  332.6    328.5 36 19 24 28 0.65 0.54 0.60
#&gt; 4         A vs. C     500    339.9  343.3    340.7 21 22 20 32 0.49 0.62 0.51
#&gt; 5         A vs. C     501    337.8  344.1    339.7 21 22 19 33 0.49 0.63 0.52
#&gt; 6         A vs. C     502    336.4  340.3    337.4 22 21 22 30 0.51 0.58 0.50
#&gt; 7         B vs. C     500    330.5  343.3    340.7 21 22 15 40 0.49 0.73 0.58
#&gt; 8         B vs. C     501    329.3  344.1    339.7 21 22 15 40 0.49 0.73 0.58
#&gt; 9         B vs. C     502    328.5  340.3    337.4 22 21 16 39 0.51 0.71 0.58
#&gt;    NPV  BAC Youden Kappa  AUC
#&gt; 1 0.58 0.59   0.17  0.18 0.57
#&gt; 2 0.56 0.58   0.16  0.16 0.56
#&gt; 3 0.60 0.60   0.19  0.19 0.56
#&gt; 4 0.59 0.55   0.10  0.10 0.50
#&gt; 5 0.60 0.56   0.12  0.12 0.51
#&gt; 6 0.59 0.54   0.09  0.09 0.51
#&gt; 7 0.65 0.61   0.22  0.22 0.57
#&gt; 8 0.65 0.61   0.22  0.22 0.57
#&gt; 9 0.65 0.61   0.22  0.22 0.56</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Vilmantas Gegzna

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Vilmantas Gegzna.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
